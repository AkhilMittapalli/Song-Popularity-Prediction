<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Popularity Prediction</title>
    <style>
        body {
            background: url('https://upload.wikimedia.org/wikipedia/commons/2/26/Spotify_logo_with_text.svg') no-repeat center center fixed;
            background-size: cover;
            color: white;
            font-family: Arial, sans-serif;
            text-align: center;
        }
        .container {
            margin: 20px auto;
            background: rgba(0, 0, 0, 0.7);
            padding: 20px;
            border-radius: 10px;
            display: inline-block;
            width: 80%;
        }
        input[type="range"] {
            width: 80%;
            margin: 10px 0;
        }
        input[type="submit"] {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #1DB954;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        input[type="submit"]:hover {
            background-color: #1ed760;
        }
        label {
            font-weight: bold;
            display: block;
            margin-top: 10px;
        }
        .value-display {
            font-size: 14px;
            margin-top: -10px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Predict Popularity Using Custom Features</h1>
        <form method="POST">
            <label>Danceability (Range: 0.0 - 1.0):</label>
            <input type="range" name="danceability" min="0" max="1" step="0.01" value="0.5" oninput="updateValue('danceability_value', this.value)">
            <div class="value-display" id="danceability_value">0.5</div>

            <label>Energy (Range: 0.0 - 1.0):</label>
            <input type="range" name="energy" min="0" max="1" step="0.01" value="0.5" oninput="updateValue('energy_value', this.value)">
            <div class="value-display" id="energy_value">0.5</div>

            <label>Key (Range: 0 - 11):</label>
            <input type="range" name="key" min="0" max="11" step="1" value="5" oninput="updateValue('key_value', this.value)">
            <div class="value-display" id="key_value">5</div>

            <label>Loudness (Range: -60.0 to 0.0):</label>
            <input type="range" name="loudness" min="-60" max="0" step="0.1" value="-30" oninput="updateValue('loudness_value', this.value)">
            <div class="value-display" id="loudness_value">-30</div>

            <label>Mode (Range: 0 - 1):</label>
            <input type="range" name="mode" min="0" max="1" step="1" value="1" oninput="updateValue('mode_value', this.value)">
            <div class="value-display" id="mode_value">1</div>

            <label>Speechiness (Range: 0.0 - 1.0):</label>
            <input type="range" name="speechiness" min="0" max="1" step="0.01" value="0.5" oninput="updateValue('speechiness_value', this.value)">
            <div class="value-display" id="speechiness_value">0.5</div>

            <label>Acousticness (Range: 0.0 - 1.0):</label>
            <input type="range" name="acousticness" min="0" max="1" step="0.01" value="0.5" oninput="updateValue('acousticness_value', this.value)">
            <div class="value-display" id="acousticness_value">0.5</div>

            <label>Instrumentalness (Range: 0.0 - 1.0):</label>
            <input type="range" name="instrumentalness" min="0" max="1" step="0.01" value="0.5" oninput="updateValue('instrumentalness_value', this.value)">
            <div class="value-display" id="instrumentalness_value">0.5</div>

            <label>Liveness (Range: 0.0 - 1.0):</label>
            <input type="range" name="liveness" min="0" max="1" step="0.01" value="0.5" oninput="updateValue('liveness_value', this.value)">
            <div class="value-display" id="liveness_value">0.5</div>

            <label>Valence (Range: 0.0 - 1.0):</label>
            <input type="range" name="valence" min="0" max="1" step="0.01" value="0.5" oninput="updateValue('valence_value', this.value)">
            <div class="value-display" id="valence_value">0.5</div>

            <label>Tempo (Range: 50.0 - 250.0 BPM):</label>
            <input type="range" name="tempo" min="50" max="250" step="0.1" value="150" oninput="updateValue('tempo_value', this.value)">
            <div class="value-display" id="tempo_value">150</div>

            <label>Duration (ms, Range: 10,000 - 600,000 ms):</label>
            <input type="range" name="duration_ms" min="10000" max="600000" step="1000" value="300000" oninput="updateValue('duration_value', this.value)">
            <div class="value-display" id="duration_value">300000</div>

            <label>Time Signature (Range: 3 - 7):</label>
            <input type="range" name="time_signature" min="3" max="7" step="1" value="4" oninput="updateValue('time_signature_value', this.value)">
            <div class="value-display" id="time_signature_value">4</div>

            <input type="submit" value="Predict Popularity">
        </form>
        {% if prediction_text %}
        <h3>{{ prediction_text }}</h3>
        {% endif %}
    </div>
    <script>
        function updateValue(id, value) {
            document.getElementById(id).innerText = value;
        }
    </script>
</body>
</html>
